import{E as b,r as o,j as P,n as g,K as t,L as k,W as w,P as m,v as f,O as p,R}from"./forms-5e524d78.js";import{M as x}from"./modal-b0546d47.js";import{useGlobalVideoPlayer as V}from"./composables-b9a1e918.js";import{a as M}from"./endpoints-461b1c36.js";const B={class:"ratio ratio-16x9 bg-dark"},E=["src"],U=["src"],C=b({__name:"global-video-player-modal",setup(G){const{modalRef:l,_html5VideoUrl:_,_youtubeEmbedUrl:n,_playerType:c,initOnce:i}=V(),u=o(!1),d=o(),s=o(),r=o(),v=P(()=>{if(c.value!=="youtube"||!n.value)return"";const e=new URL(n.value);return e.searchParams.set("si","l-r3D1FPPaKggSQB"),e.searchParams.set("enablejsapi","1"),e.searchParams.set("rel","0"),e.searchParams.set("html5","1"),e.searchParams.set("vq","hd720"),e.searchParams.set("modestbranding","1"),e.searchParams.set("autoplay","1"),e.searchParams.set("controls","1"),e.searchParams.set("showinfo","0"),e.searchParams.set("autohide","1"),e.searchParams.set("playsinline","1"),e.toString()}),y=()=>{var e,a;if(r.value){(e=r.value.contentWindow)==null||e.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");return}(a=s.value)==null||a.pause()},h=()=>{var e,a;if(r.value){(e=r.value.contentWindow)==null||e.postMessage('{"event":"command","func":"playVideo","args":""}',"*");return}(a=s.value)==null||a.play()};return i.value||(i.value=!0,l.value||(u.value=!0,g(()=>{l.value=d.value}))),(e,a)=>u.value?(t(),k(x,{key:0,ref_key:"_modalRef",ref:d,class:"modal-global-video-player",size:"modal-xl",onHide:y,onShown:h},{default:w(()=>[m("div",B,[f(c)==="youtube"?(t(),p("iframe",{key:0,ref_key:"iframeRef",ref:r,width:"560",height:"315",src:v.value,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,E)):(t(),p("video",{key:1,ref_key:"videoRef",ref:s,controls:""},[m("source",{src:f(_)},null,8,U)],512))])]),_:1},512)):R("",!0)}});const K=M(C,[["__file","global-video-player-modal.vue"]]);export{K as G};
